<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>A Dependency Injection Framework for R • modulr</title>
<!-- jquery --><script src="https://code.jquery.com/jquery-3.1.0.min.js" integrity="sha384-nrOSfDHtoPMzJHjVTdCopGqIqeYETSXhZDFyniQ8ZHcVy08QesyHcnOUpMpqnmWq" crossorigin="anonymous"></script><!-- Bootstrap --><link href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script><!-- Font Awesome icons --><link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.6.3/css/font-awesome.min.css" rel="stylesheet" integrity="sha384-T8Gy5hrqNKT+hzMclPo118YTQO6cYprQmhrYwIiQ/3axmI1hQomh7Ud2hPOy8SP1" crossorigin="anonymous">
<!-- pkgdown --><link href="pkgdown.css" rel="stylesheet">
<script src="jquery.sticky-kit.min.js"></script><script src="pkgdown.js"></script><!-- mathjax --><script src="https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--><!-- Google analytics --><script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-36176577-2', 'auto');
  ga('send', 'pageview');

</script>
</head>
<body>
    <div class="container template-vignette">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="index.html">modulr</a>
    </div>
    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="index.html">Home</a>
</li>
<li>
  <a href="articles/motivation.html">Why DI for R?</a>
</li>
<li>
  <a href="articles/modulr.html">Introduction</a>
</li>
<li>
  <a href="articles/testing.html">Unit Testing</a>
</li>
<li>
  <a href="articles/packages.html">Using modulr in packages</a>
</li>
<li>
  <a href="articles/experimental.html">Experimental</a>
</li>
<li>
  <a href="reference/index.html">Reference</a>
</li>
<li>
  <a href="news/index.html">News</a>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="https://github.com/aclemen1/modulr">
    <span class="fa fa-github"></span>
     
  </a>
</li>
      </ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      
      </header><div class="row">
  <div class="col-md-9">
    

    
    
<div class="contents">

<div id="modulr-a-dependency-injection-framework-for-r" class="section level1">
<div class="page-header"><h1 class="hasAnchor">
<a href="#modulr-a-dependency-injection-framework-for-r" class="anchor"></a>Modulr: A Dependency Injection Framework for R</h1></div>
<p>Modulr is a Dependency Injection (DI) framework for R which allows to break down sequential programs into discrete, modular units that are loosely coupled, simple to develop, test, debug, maintain, reuse, and share.</p>
<ul>
<li>Modulr is designed to ease production of mocks for testing purpose and is therefore well-suited for <a href="https://en.wikipedia.org/wiki/Test-driven_development">test-driven development</a>.</li>
<li>Modulr offers <a href="https://en.wikipedia.org/wiki/Docstring">docstrings</a>-like comments for documenting the internals of a module.</li>
<li>Modulr understands <a href="http://rmarkdown.rstudio.com/">R Markdown</a> and <a href="https://leisch.userweb.mwn.de/Sweave/">Sweave</a>, thanks to Yihui Xie’s <a href="http://yihui.name/knitr/">knitr</a> package.</li>
<li>Modulr takes advantage of <a href="http://semver.org/">semantic versioning</a> to avoid <em>version lock</em> and <em>version promiscuity</em>.</li>
<li>Modulr can use <a href="http://github.com">GitHub</a> (repositories and gists) to publish and share modules (so-called <em>gears</em>). See <a href="https://gist.github.com/aclemen1/3fcc508cb40ddac6c1e3"><code>modulr/vault</code></a> for an example.</li>
<li>Modulr helps to circumvent errors occurring in a chain of nested dependent modules, showing <a href="https://en.wikipedia.org/wiki/Breadcrumb_(navigation)">breadcrumbs</a>.</li>
<li>Modulr allows parallelization using <a href="https://en.wikipedia.org/wiki/Futures_and_promises">futures</a>, thanks to Henrik Bengtsson’s <a href="https://github.com/HenrikBengtsson/future">future</a> package.</li>
<li>Modulr implements <strong>package isolation</strong> as an experimental feature: following the philosophy of Jim Hester’s <a href="https://github.com/jimhester/withr">withr</a> package, the ‘with_’ method <code><a href="reference/with_no_packages.html">with_no_packages()</a></code> can be used to run code with temporarily no loaded or attached R packages.</li>
</ul>
<p>Please read the <a href="https://aclemen1.github.io/modulr">documentation</a> and vignettes (<code>browseVignettes(package = "modulr")</code>) to see extended examples in action.</p>
<div id="hello-world" class="section level2">
<h2 class="hasAnchor">
<a href="#hello-world" class="anchor"></a>“Hello, world!”</h2>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">library</span>(modulr)

<span class="st">"foo"</span> <span class="op">%provides%</span><span class="st"> "Hello"</span>
<span class="co">#&gt; [2018-12-02T16:13:53 UTC] Defining 'foo' ... OK</span>

<span class="st">"bar"</span> <span class="op">%provides%</span><span class="st"> "World"</span>
<span class="co">#&gt; [2018-12-02T16:13:53 UTC] Defining 'bar' ... OK</span>

<span class="st">"foobar"</span> <span class="op">%requires%</span><span class="st"> </span><span class="kw">list</span>(
  <span class="dt">f =</span> <span class="st">"foo"</span>, 
  <span class="dt">b =</span> <span class="st">"bar"</span>
) <span class="op">%provides%</span><span class="st"> </span>{
  <span class="kw">paste0</span>(f, <span class="st">", "</span>, <span class="kw">tolower</span>(b), <span class="st">"!"</span>)
}
<span class="co">#&gt; [2018-12-02T16:13:53 UTC] Defining 'foobar' ... OK</span>

<span class="kw"><a href="reference/make.html">make</a></span>(<span class="st">"foobar"</span>)
<span class="co">#&gt; [2018-12-02T16:13:53 UTC] Making 'foobar' ...</span>
<span class="co">#&gt; [2018-12-02T16:13:53 UTC] * Visiting and defining dependencies ...</span>
<span class="co">#&gt; [2018-12-02T16:13:53 UTC] * Constructing dependency graph ... OK</span>
<span class="co">#&gt; [2018-12-02T16:13:53 UTC] * Sorting 2 dependencies with 2 relations ... on 1 layer, OK</span>
<span class="co">#&gt; [2018-12-02T16:13:53 UTC] * Evaluating new and outdated dependencies ...</span>
<span class="co">#&gt; [2018-12-02T16:13:53 UTC] ** Evaluating #1/2 (layer #1/1): 'bar' ...</span>
<span class="co">#&gt; [2018-12-02T16:13:53 UTC] ** Evaluating #2/2 (layer #1/1): 'foo' ...</span>
<span class="co">#&gt; [2018-12-02T16:13:53 UTC] DONE ('foobar' in 0.059 secs)</span>
<span class="co">#&gt; [1] "Hello, world!"</span></code></pre></div>
</div>
<div id="further-readings" class="section level2">
<h2 class="hasAnchor">
<a href="#further-readings" class="anchor"></a>Further readings</h2>
<ul>
<li><a href="https://aclemen1.github.io/modulr/articles/motivation.html">Why a DI framework for R?</a></li>
<li><a href="https://aclemen1.github.io/modulr/articles/modulr.html">Introduction to modulr</a></li>
<li><a href="https://aclemen1.github.io/modulr/articles/testing.html">Unit testing</a></li>
<li><a href="https://aclemen1.github.io/modulr/articles/packages.html">Using modulr in packages</a></li>
<li><a href="https://aclemen1.github.io/modulr/articles/experimental.html">Experimental features</a></li>
</ul>
</div>
<div id="installation" class="section level2">
<h2 class="hasAnchor">
<a href="#installation" class="anchor"></a>Installation</h2>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">install.packages</span>(<span class="st">"devtools"</span>)
devtools<span class="op">::</span><span class="kw">install_github</span>(<span class="st">"hadley/devtools"</span>)
devtools<span class="op">::</span><span class="kw">install_github</span>(<span class="st">"aclemen1/modulr"</span>)</code></pre></div>
<p>If you encounter a clear bug, please <a href="https://github.com/aclemen1/modulr/issues">file a minimal reproducible example</a>. For questions and other discussion, please use the <a href="https://groups.google.com/forum/#!forum/modulr-talk">modulr mailing list</a>.</p>
</div>
<div id="real-world-applications" class="section level2">
<h2 class="hasAnchor">
<a href="#real-world-applications" class="anchor"></a>Real-world applications</h2>
<p><img src="https://github.com/aclemen1/modulr/raw/master/README-fig1.png">  <br>
This is the dependency graph of a module (on the rightmost side) which exposes tidy, exhaustive, statistics-ready, and daily HR data for the <a href="http://www.unil.ch">University of Lausanne</a>, Switzerland. Although not visible here, many of these modules are reused in other projects. The University of Lausanne has been running modulr in <a href="http://www.unil.ch/statistiques">mission critical applications</a> since March 2015.</p>
</div>
<div id="related-approaches" class="section level2">
<h2 class="hasAnchor">
<a href="#related-approaches" class="anchor"></a>Related approaches</h2>
<p><em>In alphabetical order.</em></p>
<ul>
<li>Zebulun Arendsee’s <a href="https://github.com/arendsee/rmonad">rmonad</a> package.</li>
<li>Rich FitzJohn’s <a href="http://github.com/richfitz/remake">remake</a> package.</li>
<li>Robert Krzyzanowski’s <a href="https://github.com/syberia/director">director</a> package.</li>
<li>Lev Kuznetsov’s <a href="http://dfci-cccb.github.io/injectoR">injectoR</a> package.</li>
<li>Will Landau’s <a href="https://github.com/wlandau-lilly/drake">drake</a> package.</li>
<li>Konrad Rudolph’s <a href="http://github.com/klmr/modules">modules</a> package.</li>
<li>Sebastian Warnholz’s <a href="https://github.com/wahani/modules">modules</a> package.</li>
</ul>
</div>
<div id="code-of-conduct" class="section level2">
<h2 class="hasAnchor">
<a href="#code-of-conduct" class="anchor"></a>Code of conduct</h2>
<p>In order to have a more open and welcoming community, modulr adheres to a <a href="CONDUCT.md">Contributor Code of Conduct</a>. Please adhere to this code of conduct in any interactions you have in the modulr community. It is strictly enforced on all official modulr repositories, websites, and resources. If you encounter someone violating these terms, please let the maintainer know and he will address it as soon as possible.</p>
</div>
</div>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="sidebar">
    <h2 class="hasAnchor">
<a href="#sidebar" class="anchor"></a>Links</h2>
<ul class="list-unstyled">
<li>Browse source code at <br><a href="https://github.com/aclemen1/modulr">https://​github.com/​aclemen1/​modulr</a>
</li>
<li>Report a bug at <br><a href="https://github.com/aclemen1/modulr/issues">https://​github.com/​aclemen1/​modulr/​issues</a>
</li>
</ul>
<h2>License</h2>
<p><a href="https://opensource.org/licenses/mit-license.php">MIT</a> + file <a href="LICENSE.html">LICENSE</a></p>
<h2>Developers</h2>
<ul class="list-unstyled">
<li>Alain Clément <br><small class="roles"> Author, maintainer, copyright holder </small> </li>
</ul>
<h2>Dev status</h2>
<ul class="list-unstyled">
<li><a href="https://travis-ci.org/aclemen1/modulr"><img src="https://travis-ci.org/aclemen1/modulr.svg?branch=master" alt="Build Status"></a></li>
<li><a href="http://codecov.io/github/aclemen1/modulr"><img src="https://codecov.io/github/aclemen1/modulr/coverage.svg?branch=master" alt="Coverage status"></a></li>
<li><a href="https://cran.r-project.org/package=modulr"><img src="http://www.r-pkg.org/badges/version/modulr" alt="CRAN_Status_Badge"></a></li>
<li><a href="https://cran.r-project.org/package=modulr"><img src="http://cranlogs.r-pkg.org/badges/grand-total/modulr" alt="CRAN"></a></li>
<li><a href="http://aclemen1.mit-license.org/license.html"><img src="https://img.shields.io/:license-mit-blue.svg" alt="License"></a></li>
<li><a href="https://twitter.com/intent/tweet.html?text=Modulr:%20A%20Dependency%20Injection%20Framework%20for%20R&amp;url=http://github.com/aclemen1/modulr&amp;hashtags=r,dependency-injection"><img src="https://img.shields.io/twitter/url/http/github.com/aclemen1/modulr.svg?style=social" alt="Twitter"></a></li>
</ul>
</div>

</div>


      <footer><div class="copyright">
  <p>Developed by Alain Clément.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="http://hadley.github.io/pkgdown/">pkgdown</a>.</p>
</div>

      </footer>
</div>

  </body>
</html>
