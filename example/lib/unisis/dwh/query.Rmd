---
title: "unisis/dwh/query"
author: "Alain Cl√©ment-Pavon"
date: "2015-01-21"
output: html_document
---

# Initialization

```{r}
library(modulr)
```

# Definition

```{r}
"unisis/dwh/query" %requires% list("unisis/dwh/connection") %provides%
  function(connection) {
    library(DBI)
    function(sql_query_string) {
      connection_handler <- connection$get()
      cursor <- dbSendQuery(
        connection_handler,
        sql_query_string
        )
      query <- fetch(cursor)
      connection$disconnect(connection_handler)
      query
      }
    }
```
